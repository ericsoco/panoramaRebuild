{"version":3,"sources":["../es6/Axis.js"],"names":[],"mappings":"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","file":"Axis.js","sourcesContent":["import d3 from 'd3';\n\nexport const axisMethods = [\n  'orient',\n  'ticks',\n  'tickValues',\n  'tickSize',\n  'innerTickSize',\n  'outerTickSize',\n  'tickPadding',\n  'tickFormat'\n];\n\nexport default class Axis {\n  constructor(options, scale) {\n    this._options = options;\n    this.axis = d3.svg.axis().scale(scale);\n    this.element = null;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(val) {\n    this._options = val;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(w) {\n    this._width = w;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  set height(h) {\n    this._height = h;\n  }\n\n  update(scale, opts) {\n    this.options = opts;\n    this.axis.scale(scale);\n    this.setAxisMethods();\n  }\n\n  onMount(base) {\n    this.element = base.append('g')\n      .attr('class', this.options.className || '');\n\n    this.setAxisMethods();\n    this.axisLabel();\n  }\n\n  onUpdate() {}\n\n  onUnMount() {\n    if (this.element) this.element.remove();\n    this._options = null;\n    this.element = null;\n    this.axis = null;\n  }\n\n  render() {\n    this.setPosition();\n    this.element.call(this.axis);\n    this.renderTickExtras();\n    this.renderLabelExtras();\n  }\n\n  renderTickExtras() {\n    const text = this.element.selectAll('text');\n\n    if (this.options.attr) {\n      text.attr(this.options.attr);\n    }\n\n    if (this.options.style) {\n      text.style(this.options.style);\n    }\n  }\n\n  renderLabelExtras() {\n    if (!this.label || !this.options.label) return;\n    const {label} = this.options;\n\n    if (label.attr) {\n      this.label.attr(label.attr);\n    }\n    if (label.style) {\n      this.label.style(label.style);\n    }\n  }\n\n  setPosition() {\n    const {position} = this.options;\n\n    if (position) {\n      switch(position) {\n      case 'bottom':\n        this.element\n          .attr('transform', 'translate(0,' + this.height + ')');\n        break;\n      case 'right':\n        this.element\n          .attr('transform', 'translate(' + this.width + ',0)');\n      default:\n        break;\n      }\n    }\n  }\n\n  setAxisMethods() {\n    axisMethods.forEach((method) => {\n      if (this.options.hasOwnProperty(method)) {\n        this.axis[method](this.options[method]);\n      }\n    });\n  }\n\n  axisLabel() {\n    if (this.options.label) {\n      this.label = this.element.append('text').text(this.options.label.text);\n    }\n  }\n\n  toString() {\n    return 'Axis';\n  }\n}"]}