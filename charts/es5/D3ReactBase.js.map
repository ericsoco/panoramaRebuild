{"version":3,"sources":["../es6/D3ReactBase.jsx"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AAEO,IAAM,sCAAe;AAC1B,SAAO,iBAAU,MAAV;AACP,UAAQ,iBAAU,MAAV;AACR,UAAQ,iBAAU,KAAV,CAAgB;AACtB,SAAK,iBAAU,MAAV;AACL,WAAO,iBAAU,MAAV;AACP,YAAQ,iBAAU,MAAV;AACR,UAAM,iBAAU,MAAV;GAJA,CAAR;AAMA,aAAW,iBAAU,IAAV;AACX,aAAW,iBAAU,IAAV;AACX,qBAAmB,iBAAU,IAAV;AACnB,UAAQ,iBAAU,IAAV;AACR,UAAQ,iBAAU,IAAV;AACR,SAAO,iBAAU,MAAV;AACP,SAAO,iBAAU,MAAV;AACP,eAAa,iBAAU,IAAV;AACb,WAAS,iBAAU,IAAV;CAjBE;;AAoBN,IAAM,sCAAe;AAC1B,SAAO,GAAP;AACA,UAAQ,GAAR;AACA,UAAQ,EAAC,KAAK,EAAL,EAAS,OAAO,EAAP,EAAW,QAAQ,EAAR,EAAY,MAAM,EAAN,EAAzC;AACA,qBAAmB;WAAK,EAAE,GAAF;GAAL;AACnB,aAAW;WAAK,EAAE,GAAF;GAAL;AACX,aAAW;WAAK,EAAE,KAAF;GAAL;AACX,UAAQ,YAAG,KAAH,CAAS,MAAT,EAAR;AACA,UAAQ,YAAG,KAAH,CAAS,MAAT,EAAR;AACA,eAAa,IAAb;AACA,WAAS,KAAT;CAVW;;IAaQ;;;AACnB,WADmB,WACnB,CAAa,KAAb,EAAoB;0BADD,aACC;;kEADD,wBAEX,QADY;GAApB;;eADmB;;yCAQE;AACnB,UAAI,CAAC,KAAK,gBAAL,EAAuB;AAC1B,cAAM,IAAI,KAAJ,CAAU,8BAAV,CAAN,CAD0B;OAA5B;AAGA,WAAK,KAAL,GAAa,IAAI,KAAK,gBAAL,CAAsB,KAAK,KAAL,CAAvC,CAJmB;AAKnB,WAAK,KAAL,CAAW,SAAX,GALmB;;;;wCAQD;AAClB,WAAK,KAAL,CAAW,QAAX,GAAsB,KAAK,IAAL,CAAU,KAAV,CADJ;AAElB,WAAK,KAAL,CAAW,UAAX,GAAwB,KAAK,IAAL,CAAU,OAAV,CAFN;AAGlB,WAAK,KAAL,CAAW,KAAX,GAAmB,KAAK,KAAL,CAHD;AAIlB,WAAK,KAAL,CAAW,OAAX,GAJkB;;;;yCAOC;AACnB,WAAK,KAAL,CAAW,KAAX,GAAmB,KAAK,KAAL,CADA;AAEnB,WAAK,KAAL,CAAW,QAAX,GAFmB;;;;2CAKE;AACrB,WAAK,KAAL,CAAW,SAAX,GADqB;AAErB,WAAK,KAAL,GAAa,IAAb,CAFqB;;;;mCAKR;AACb,aAAO,KAAK,KAAL,CAAW,SAAX,GAAuB,MAAM,KAAK,KAAL,CAAW,SAAX,GAAuB,EAApD,CADM;;;;6BAIN;AACP,aACE;;UAAK,WAAY,aAAa,KAAK,YAAL,EAAb,EAAjB;QACE;;YAAK,KAAI,OAAJ,EAAY,WAAU,2BAAV,EAAjB;UACI,KAAK,KAAL,CAAW,OAAX,IAAsB,uCAAK,KAAI,SAAJ,EAAc,WAAU,mBAAV,EAAnB,CAAtB;SAFN;OADF,CADO;;;;SArCU;;;YAKZ,YAAY;AALA,YAMZ,eAAe;kBANH","file":"D3ReactBase.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport d3 from 'd3';\n\nexport const DefaultTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  margin: PropTypes.shape({\n    top: PropTypes.number,\n    right: PropTypes.number,\n    bottom: PropTypes.number,\n    left: PropTypes.number\n  }),\n  xAccessor: PropTypes.func,\n  yAccessor: PropTypes.func,\n  selectionAccessor: PropTypes.func,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  xaxis: PropTypes.object,\n  yaxis: PropTypes.object,\n  interactive: PropTypes.bool,\n  tooltip: PropTypes.bool\n};\n\nexport const DefaultProps = {\n  width: 960,\n  height: 500,\n  margin: {top: 20, right: 30, bottom: 20, left: 30},\n  selectionAccessor: d => d.key,\n  xAccessor: d => d.key,\n  yAccessor: d => d.value,\n  xScale: d3.scale.linear(),\n  yScale: d3.scale.linear(),\n  interactive: true,\n  tooltip: false\n};\n\nexport default class D3ReactBase extends Component {\n  constructor (props) {\n    super(props);\n  }\n\n  static propTypes = DefaultTypes;\n  static defaultProps = DefaultProps;\n\n  componentWillMount() {\n    if (!this.chartConstructor) {\n      throw new Error('Need to set chartConstructor');\n    }\n    this.chart = new this.chartConstructor(this.props);\n    this.chart.willMount();\n  }\n\n  componentDidMount() {\n    this.chart.selector = this.refs.chart;\n    this.chart.tooltipRef = this.refs.tooltip;\n    this.chart.props = this.props;\n    this.chart.onMount();\n  }\n\n  componentDidUpdate() {\n    this.chart.props = this.props;\n    this.chart.onUpdate();\n  }\n\n  componentWillUnmount() {\n    this.chart.onUnMount();\n    this.chart = null;\n  }\n\n  getClassName() {\n    return this.props.className ? ' ' + this.props.className : '';\n  }\n\n  render() {\n    return (\n      <div className={ 'panorama' + this.getClassName() }>\n        <div ref='chart' className='panorama--chart-container'>\n          { this.props.tooltip && <div ref='tooltip' className='panorama--tooltip'></div> }\n        </div>\n      </div>\n    );\n  }\n}"]}